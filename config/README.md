# Eden Configuration System

This document describes Eden's configuration system and the rapid-optimized default configuration.

## Configuration Structure

Eden uses a hierarchical configuration system:

```
config/
├── default.yaml                    # Repository-wide default
├── profiles/
│   ├── current.yaml                # Pointer to current profile
│   └── rapid-optimized-2025-10-22.yaml  # Optimized configuration
└── README.md                       # This file
```

## Default Configuration Chain

The default configuration follows this chain:

1. `config/default.yaml` → 
2. `config/profiles/current.yaml` → 
3. `config/profiles/rapid-optimized-2025-10-22.yaml`

## Rapid-Optimized Configuration (2025-10-22)

This configuration was generated by Eden's rapid optimization mode and is now the repository default.

### Performance Metrics
- **Net PnL**: 262.18%
- **Max Drawdown**: 4.2% 
- **Win Rate**: 60.0%
- **Total Trades**: 675
- **Profit Factor**: 124.85
- **Consistency Score**: 100.0

### Key Parameters
- **R:R Ratio**: 2.52 with dynamic scaling (1.0, 1.5, 3.0)
- **Confidence Threshold**: 0.5 (aggressive)
- **Risk per Trade**: 1.4%
- **HTF Bias Alignment**: Enforced
- **Anomaly Filter Weight**: 0.25
- **Min Confluences**: 1

## Using the Configuration

### Default Usage
All Eden operations use the default configuration automatically:

```bash
python backtest_ict_ml.py --days 7
python eden_vix100_bot.py
python scripts/run_optimal.py
```

### Override Configuration
To use a different configuration, set the `EDEN_CONFIG_PATH` environment variable:

```bash
# PowerShell
$env:EDEN_CONFIG_PATH="path/to/custom.yaml"

# Bash
export EDEN_CONFIG_PATH="path/to/custom.yaml"
```

Or pass it directly to scripts:
```bash
python backtest_ict_ml.py --config custom.yaml
```

## Configuration Management

### Switching Profiles
To switch to a different profile, update `config/profiles/current.yaml`:

```yaml
extends: ./different-profile-2025-XX-XX.yaml
name: different-profile-current
```

### Creating New Profiles
1. Create a new profile in `config/profiles/`
2. Follow the structure of `rapid-optimized-2025-10-22.yaml`
3. Update the pointer in `current.yaml` if needed

### Rollback
If issues arise with the current configuration:

1. **Quick rollback**: Edit `config/profiles/current.yaml` to point to the previous profile
2. **Git rollback**: 
   ```bash
   git revert HEAD
   git push
   ```

## Configuration Validation

The rapid-optimized configuration meets these criteria:
- ✅ Positive net PnL (262.18%)
- ✅ Drawdown < 12% (4.2%)
- ✅ Win rate > 60% (60.0%)
- ✅ Sufficient trade sample (675 trades)
- ✅ HTF bias alignment enforced
- ✅ Risk management parameters optimized

## Environment Variables

- `EDEN_CONFIG_PATH`: Override default configuration path
- `EDEN_LIVE`: Set to "1" for live trading mode
- `EDEN_LOG_LEVEL`: Override logging level (DEBUG, INFO, WARNING, ERROR)

## Best Practices

1. **Never edit the default configuration directly** - create profiles instead
2. **Test configuration changes** in demo mode first
3. **Document performance metrics** for any new configurations
4. **Use semantic versioning** for profile names (YYYY-MM-DD format)
5. **Keep secrets separate** - never commit API keys or passwords

## Support

For questions about the configuration system or the rapid-optimized profile, refer to:
- Optimization logs in the project history
- Performance verification scripts in `scripts/`
- Configuration validation tools