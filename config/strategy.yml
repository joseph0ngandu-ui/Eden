# Production Strategy Configuration
# MA(3,10) Strategy - 5 Bar Hold
# Validated Performance: $1.32M PnL on $100k capital (Aug-Oct 2025)

strategy:
  name: "MA Crossover Strategy"
  description: "Fast MA(3) crosses above Slow MA(10) on M5 timeframe with 5-bar fixed hold"
  version: "1.0.0"
  status: "PRODUCTION"

parameters:
  fast_ma_period: 3
  slow_ma_period: 10
  timeframe: "M5"
  hold_bars: 5
  entry_signal: "MA crossover (fast > slow)"
  exit_signal: "Fixed 5-bar hold duration"

# Symbols to trade - Updated for Exness-MT5Trial9 (all symbols have 'm' suffix)
# Note: Volatility indices NOT supported on this broker
trading_symbols:
  - "EURUSDm"       # Pro_Overlap_Scalper, Pro_Volatility_Expansion
  - "GBPUSDm"       # Pro_Overlap_Scalper, Pro_Volatility_Expansion  
  - "USDJPYm"       # Pro_Asian_Fade, Pro_Volatility_Expansion
  - "AUDJPYm"       # Pro_Asian_Fade, Pro_Volatility_Expansion
  - "XAUUSDm"       # Pro_Gold_Breakout (Gold)
  - "AUDUSDm"       # Additional forex pair
  - "USDCADm"       # Additional forex pair
  # Previous symbols (NOT available on new broker):
  # - "Volatility 75 Index"    # Not supported
  # - "Volatility 100 Index"   # Not supported
  # - "Boom 1000 Index"        # Not supported
  # - "Boom 500 Index"         # Not supported
  # - "Crash 500 Index"        # Not supported

# Historical Performance (Backtested Aug 1 - Oct 31, 2025)
performance:
  total_trades: 13820
  total_pnl: 1323131.69
  winning_trades: 6884
  losing_trades: 6918
  breakeven_trades: 18
  win_rate: 49.8
  return_percent: 1323.13
  profit_factor: 1.09
  avg_win: 192.33
  avg_loss: -191.39
  max_profit: 6835.93
  min_profit: -8421.98

# Top Performing Symbols
top_performers:
  - symbol: "Volatility 75 Index"
    trades: 1420
    pnl: 1229078.00
    win_rate: 49.9
  - symbol: "Boom 500 Index"
    trades: 1403
    pnl: 87321.00
    win_rate: 46.8
  - symbol: "Crash 500 Index"
    trades: 1395
    pnl: 36948.40
    win_rate: 57.3

# Risk Management
risk_management:
  position_size: 1.0  # 1 lot per trade (base, overridden by growth_mode if enabled)
  max_concurrent_positions: 10
  max_drawdown_percent: 10.0  # Auto-disable live trading when breached
  max_daily_loss_percent: 1.8  # Max daily loss (buffer below 2% funded limit)
  
  # News Event Filter - Avoid trading during high-impact news (wider spreads)
  news_filter_enabled: true  # Enable/disable news filter
  news_buffer_minutes: 30    # Minutes before/after news to block trading
  
  # Spread Filter
  max_spread_pips: 5.0       # Skip trade if spread > 5 pips (avoid news spikes/low liquidity)
  
  stop_loss_pips: null  # Not used - fixed hold exit
  take_profit_pips: null  # Not used - fixed hold exit

# Growth Mode - Risk Ladder & Dynamic Position Sizing
growth_mode:
  enabled: true  # Enable tier-based risk scaling
  high_aggression_below: 30  # $30 - switch to less aggressive at this balance
  equity_step_size: 50  # Create new equity milestone every $50
  equity_step_drawdown_limit: 0.15  # Reduce risk if drawdown > 15% from step high
  
  # Risk tiers - automatically adjusts as balance grows
  # Tier 1: $10-$30 (ultra aggressive - 20% risk per trade)
  # Tier 2: $30-$100 (very aggressive - 10% risk per trade)
  # Tier 3: $100-$500 (aggressive - 5% risk per trade)
  # Tier 4: $500-$1000 (moderate - 3% risk per trade)
  # Tier 5: $1000+ (conservative - 1% risk per trade)
  
  # Position sizing method
  lot_sizing: "atr_based"  # Options: "simple", "atr_based", "equity_based"
  pip_value: 10  # Value per pip for lot calculation

# Backtest Configuration
backtest:
  start_date: "2025-08-01"
  end_date: "2025-10-31"
  timeframe: "M5"
  data_source: "MT5"

# Live Trading Configuration
live_trading:
  enabled: true
  check_interval: 300  # seconds (5 minutes - aligns with M5 timeframe)
  symbols: ${trading_symbols}
  position_size: 1.0  # lots
  
# Logging
logging:
  level: "INFO"
  format: "%(asctime)s - %(levelname)s - %(message)s"
  file: "logs/trading.log"
